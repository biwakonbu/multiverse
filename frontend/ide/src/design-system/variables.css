/**
 * multiverse IDE デザインシステム CSS変数
 *
 * プレフィックス: --mv- (multiverse)
 * 命名規則: --mv-{category}-{variant}-{state}
 *
 * テーマ: Nord Deep ベース
 * - 深い背景にパステル UI が輝くデザイン
 * - 控えめなグロー効果
 * - ゲーム的な UI（Factorio 風）
 *
 * トークン階層:
 * 1. プリミティブカラー（生の色値）
 * 2. セマンティックカラー（用途別）
 * 3. コンポーネントカラー（UI要素別）
 */

:root {
  /* ========================================
     プリミティブカラー: Nord パレット
     ======================================== */

  /* Polar Night（深い背景） */
  --mv-primitive-polar-night-0: #2e3440;
  --mv-primitive-polar-night-1: #3b4252;
  --mv-primitive-polar-night-2: #434c5e;
  --mv-primitive-polar-night-3: #4c566a;

  /* Snow Storm（明るいテキスト） */
  --mv-primitive-snow-storm-0: #d8dee9;
  --mv-primitive-snow-storm-1: #e5e9f0;
  --mv-primitive-snow-storm-2: #eceff4;

  /* Frost（青系アクセント） */
  --mv-primitive-frost-0: #8fbcbb;
  --mv-primitive-frost-1: #88c0d0;
  --mv-primitive-frost-2: #81a1c1;
  --mv-primitive-frost-3: #5e81ac;

  /* Aurora（ステータス色 - より明るく鮮やかに調整） */
  --mv-primitive-aurora-red: #da7e87;    /* 元: #bf616a */
  --mv-primitive-aurora-orange: #e09880; /* 元: #d08770 */
  --mv-primitive-aurora-yellow: #f5deaa; /* 元: #ebcb8b */
  --mv-primitive-aurora-green: #b8dea6;  /* 元: #a3be8c */
  --mv-primitive-aurora-purple: #cc9ec2; /* 元: #b48ead */

  /* Nord Deep 拡張（標準より深い背景） */
  --mv-primitive-deep-0: #16181e;
  --mv-primitive-deep-1: #1c1f26;
  --mv-primitive-deep-2: #242832;
  --mv-primitive-deep-3: #272b36;
  --mv-primitive-deep-4: #2d323e;
  --mv-primitive-deep-5: #363c4a;

  /* パステル化した Aurora */
  --mv-primitive-pastel-red: #c97b7b;
  --mv-primitive-pastel-orange: #d19a66;
  --mv-primitive-pastel-yellow: #d9c28a;
  --mv-primitive-pastel-green: #8fbf9f;
  --mv-primitive-pastel-green-muted: #7fa387;
  --mv-primitive-pastel-green-dark: #6b8f71;

  /* ニュートラル（グレースケール） */
  --mv-primitive-neutral-400: #6b7280;
  --mv-primitive-neutral-500: #5c6677;
  --mv-primitive-neutral-600: #a5afbf;

  /* ========================================
     セマンティックカラー: サーフェス（全体的に明るくシフト）
     ======================================== */
  --mv-color-surface-app: var(--mv-primitive-deep-1);       /* 元 deep[0] */
  --mv-color-surface-primary: var(--mv-primitive-deep-2);   /* 元 deep[1] */
  --mv-color-surface-secondary: var(--mv-primitive-deep-3); /* 元 deep[2] */
  --mv-color-surface-hover: var(--mv-primitive-deep-5);     /* 元 deep[4] */
  --mv-color-surface-selected: var(--mv-primitive-polar-night-2); /* より明るく */
  --mv-color-surface-node: var(--mv-primitive-deep-4);      /* 元 deep[3] */
  --mv-color-surface-overlay: rgba(0, 0, 0, 0.6);

  /* ========================================
     セマンティックカラー: ボーダー
     ======================================== */
  --mv-color-border-subtle: var(--mv-primitive-polar-night-1);
  --mv-color-border-default: var(--mv-primitive-polar-night-2);
  --mv-color-border-strong: var(--mv-primitive-polar-night-3);
  --mv-color-border-focus: var(--mv-primitive-frost-1);

  /* ========================================
     セマンティックカラー: テキスト
     ======================================== */
  --mv-color-text-primary: var(--mv-primitive-snow-storm-2);
  --mv-color-text-secondary: var(--mv-primitive-snow-storm-0);
  --mv-color-text-muted: var(--mv-primitive-neutral-600);
  --mv-color-text-disabled: var(--mv-primitive-neutral-500);

  /* ========================================
     セマンティックカラー: グロー・シャドウ
     ======================================== */
  --mv-color-glow-focus: rgba(136, 192, 208, 0.3);
  --mv-color-glow-selected: rgba(136, 192, 208, 0.4);
  --mv-color-glow-error: rgba(191, 97, 106, 0.3);
  --mv-color-glow-running: rgba(143, 191, 159, 0.35);
  --mv-color-shadow-elevated: rgba(0, 0, 0, 0.3);
  --mv-color-shadow-deep: rgba(0, 0, 0, 0.4);
  --mv-color-glow-ambient: rgba(136, 192, 208, 0.1); /* UIパーツの常時発光用 */

  /* ========================================
     セマンティックカラー: インタラクティブ
     ======================================== */
  --mv-color-interactive-primary: var(--mv-primitive-frost-1);
  --mv-color-interactive-primary-hover: var(--mv-primitive-frost-0);
  --mv-color-interactive-secondary: var(--mv-primitive-frost-2);
  --mv-color-interactive-danger: var(--mv-primitive-aurora-red);

  /* ========================================
     ステータスカラー: Pending（待機中）
     ======================================== */
  --mv-color-status-pending-bg: var(--mv-primitive-deep-4);
  --mv-color-status-pending-border: var(--mv-primitive-polar-night-3);
  --mv-color-status-pending-text: var(--mv-primitive-pastel-orange);

  /* ========================================
     ステータスカラー: Ready（準備完了）
     ======================================== */
  --mv-color-status-ready-bg: #1e2a3a;
  --mv-color-status-ready-border: var(--mv-primitive-frost-2);
  --mv-color-status-ready-text: var(--mv-primitive-frost-1);

  /* ========================================
     ステータスカラー: Running（実行中）
     ======================================== */
  --mv-color-status-running-bg: #1e2d26;
  --mv-color-status-running-border: var(--mv-primitive-pastel-green);
  --mv-color-status-running-text: var(--mv-primitive-aurora-green);
  --mv-color-status-running-glow: var(--mv-color-glow-running);

  /* ========================================
     ステータスカラー: Succeeded（成功）
     ======================================== */
  --mv-color-status-succeeded-bg: #1a2822;
  --mv-color-status-succeeded-border: var(--mv-primitive-pastel-green-dark);
  --mv-color-status-succeeded-text: var(--mv-primitive-pastel-green-muted);

  /* ========================================
     ステータスカラー: Failed（失敗）
     ======================================== */
  --mv-color-status-failed-bg: #2d1f22;
  --mv-color-status-failed-border: var(--mv-primitive-pastel-red);
  --mv-color-status-failed-text: var(--mv-primitive-aurora-red);

  /* ========================================
     ステータスカラー: Canceled（キャンセル）
     ======================================== */
  --mv-color-status-canceled-bg: #22252d;
  --mv-color-status-canceled-border: var(--mv-primitive-polar-night-1);
  --mv-color-status-canceled-text: var(--mv-primitive-neutral-400);

  /* ========================================
     ステータスカラー: Blocked（ブロック）
     ======================================== */
  --mv-color-status-blocked-bg: #2d2a1e;
  --mv-color-status-blocked-border: var(--mv-primitive-pastel-yellow);
  --mv-color-status-blocked-text: var(--mv-primitive-aurora-yellow);

  /* ========================================
     スペーシング: グリッド
     ======================================== */
  --mv-grid-cell-width: 160px;
  --mv-grid-cell-height: 100px;
  --mv-grid-gap: 40px;

  /* ========================================
     スペーシング: UI
     ======================================== */
  --mv-spacing-xxs: 4px;
  --mv-spacing-xs: 8px;
  --mv-spacing-sm: 12px;
  --mv-spacing-md: 16px;
  --mv-spacing-lg: 24px;
  --mv-spacing-xl: 32px;
  --mv-spacing-xxl: 48px;

  /* ========================================
     スペーシング: レイアウト
     ======================================== */
  --mv-layout-toolbar-height: 56px;
  --mv-layout-detail-panel-width: 360px;
  --mv-layout-minimap-width: 150px;
  --mv-layout-minimap-height: 100px;

  /* ========================================
     ボーダー半径
     ======================================== */
  --mv-radius-sm: 4px;
  --mv-radius-md: 8px;
  --mv-radius-lg: 12px;
  --mv-radius-full: 50%;

  /* ========================================
     ボーダー幅
     ======================================== */
  --mv-border-width-thin: 1px;
  --mv-border-width-default: 2px;
  --mv-border-width-thick: 3px;

  /* ========================================
     フォーカスリング
     ======================================== */
  --mv-focus-ring-width: 2px;
  --mv-focus-ring-offset: 2px;

  /* ========================================
     インジケーターサイズ
     ======================================== */
  --mv-indicator-size-xs: 6px;
  --mv-indicator-size-sm: 8px;
  --mv-indicator-size-md: 12px;
  --mv-indicator-size-lg: 16px;

  /* ========================================
     インプット高さ
     ======================================== */
  --mv-input-height-sm: 28px;
  --mv-input-height-md: 36px;
  --mv-input-height-lg: 44px;

  /* ========================================
     コンテナ幅
     ======================================== */
  --mv-container-max-width-xs: 320px;
  --mv-container-max-width-sm: 480px;
  --mv-container-max-height-modal: 80vh;
  --mv-container-max-height-error: 100px;
  --mv-container-max-height-list: 320px;

  /* フローティングウィンドウ */
  --mv-floating-window-width: 600px;
  --mv-floating-window-height: 350px;

  /* ========================================
     ロゴサイズ
     ======================================== */
  --mv-logo-width: 340px;
  --mv-logo-height: 72px;
  --mv-logo-font-size: 32px;
  --mv-logo-letter-spacing: 0.15em;

  /* ========================================
     スクロールバー
     ======================================== */
  --mv-scrollbar-width: 6px;
  --mv-scrollbar-radius: 3px;

  /* ========================================
     アイコンサイズ
     ======================================== */
  --mv-icon-size-xs: 14px;
  --mv-icon-size-sm: 16px;
  --mv-icon-size-md: 20px;
  --mv-icon-size-lg: 24px;
  --mv-icon-size-xl: 32px;
  --mv-icon-size-xxl: 40px;
  --mv-icon-size-xxxl: 48px;

  /* ========================================
     スピナーサイズ
     ======================================== */
  --mv-spinner-size-md: 24px;
  --mv-spinner-border-width: 2px;

  /* ========================================
     Letter-spacing
     ======================================== */
  --mv-letter-spacing-tight: -0.5px;
  --mv-letter-spacing-normal: 0;
  --mv-letter-spacing-wide: 0.5px;
  --mv-letter-spacing-wider: 1px;
  --mv-letter-spacing-widest: 0.02em;

  /* ========================================
     キャンバス特殊値
     ======================================== */
  --mv-canvas-overflow-size: 1000px;
  --mv-canvas-preview-height: 500px;

  /* ========================================
     ボックスシャドウ
     ======================================== */
  --mv-shadow-focus: 0 0 0 var(--mv-focus-ring-width) var(--mv-color-glow-focus);
  --mv-shadow-selected: 0 0 0 var(--mv-border-width-thick)
    var(--mv-color-glow-selected);
  --mv-shadow-card: 0 4px 12px var(--mv-color-shadow-elevated);
  --mv-shadow-tab-active-inset: 0 calc(-1 * var(--mv-border-width-default)) 0 0
    var(--mv-primitive-aurora-yellow) inset;

  /* ========================================
     プログレスバー
     ======================================== */
  --mv-progress-bar-height-sm: 6px;
  --mv-progress-bar-height-md: 8px;
  --mv-progress-bar-width-mini: 60px;
  --mv-progress-bar-width-sm: 80px;
  --mv-progress-text-width-sm: 32px;
  --mv-progress-text-width-md: 48px;
  --mv-progress-text-width-lg: 80px;

  /* プログレスバー カラー（明るく目立つ色、発光表現） */
  --mv-progress-bar-bg: rgba(136, 192, 208, 0.25);
  --mv-progress-bar-fill: #b5e8ff; /* 高輝度アイスブルー */
  --mv-progress-bar-fill-glow: rgba(136, 192, 208, 0.8); /* 強力なグロー */
  --mv-progress-text-color: #b5e8ff;

  /* ========================================
     WBS ツリー
     ======================================== */
  --mv-wbs-node-height: 36px;
  --mv-wbs-toggle-size: 20px;
  --mv-wbs-toggle-icon-size: 10px;
  --mv-wbs-phase-bar-width: 4px;

  /* ========================================
     トランスフォーム
     ======================================== */
  --mv-transform-hover-lift: translateY(-2px);
  --mv-transform-press: translateY(1px);

  /* ========================================
     タイポグラフィ
     ======================================== */
  --mv-font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    "Helvetica Neue", Arial, sans-serif;
  --mv-font-mono: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas,
    monospace;
  --mv-font-display: "Orbitron", var(--mv-font-sans);  /* FF風の未来的フォント */

  --mv-font-size-xs: 10px;
  --mv-font-size-sm: 12px;
  --mv-font-size-md: 14px;
  --mv-font-size-lg: 16px;
  --mv-font-size-xl: 18px;
  --mv-font-size-xxl: 24px;

  --mv-font-weight-normal: 400;
  --mv-font-weight-medium: 500;
  --mv-font-weight-semibold: 600;
  --mv-font-weight-bold: 700;

  --mv-line-height-tight: 1.2;
  --mv-line-height-normal: 1.5;
  --mv-line-height-relaxed: 1.75;

  /* ========================================
     アニメーション: デュレーション
     ======================================== */
  --mv-duration-instant: 100ms;
  --mv-duration-fast: 150ms;
  --mv-duration-normal: 300ms;
  --mv-duration-slow: 500ms;
  --mv-duration-pulse: 2000ms;

  /* ========================================
     アニメーション: イージング
     ======================================== */
  --mv-easing-default: ease-in-out;
  --mv-easing-in: ease-in;
  --mv-easing-out: ease-out;
  --mv-easing-linear: linear;
  --mv-easing-spring: cubic-bezier(0.34, 1.56, 0.64, 1);

  /* ========================================
     アニメーション: トランジション
     ======================================== */
  --mv-transition-hover: var(--mv-duration-fast) var(--mv-easing-out);
  --mv-transition-state: var(--mv-duration-normal) var(--mv-easing-default);
  --mv-transition-transform: var(--mv-duration-fast) var(--mv-easing-out);

  /* ========================================
     ズーム
     ======================================== */
  --mv-zoom-min: 0.25;
  --mv-zoom-max: 3;
  --mv-zoom-default: 1;

  /* ========================================
     追加シャドウ・ボーダー
     ======================================== */
  --mv-shadow-glow-sm: 0 0 8px var(--mv-color-glow-focus);
  --mv-shadow-glow-lg: 0 0 15px var(--mv-color-glow-focus);
  --mv-shadow-node-glow: 0 0 8px rgba(136, 192, 208, 0.3);
  --mv-shadow-button-glow: 0 0 8px rgba(136, 192, 208, 0.4);
  --mv-border-panel: var(--mv-border-width-thin) solid var(--mv-color-border-subtle);
  --mv-text-shadow-glow: 0 0 4px var(--mv-color-glow-focus);
  --mv-shadow-progress-bar: 0 0 15px var(--mv-color-glow-focus), inset 0 1px 2px rgba(0, 0, 0, 0.2);
  --mv-shadow-floating-window: 0 0 15px var(--mv-color-glow-focus), 0 4px 12px var(--mv-color-shadow-deep);

  /* ========================================
     固定サイズ（レイアウト用）
     ======================================== */
  --mv-size-full: 100%;
  --mv-size-half: 50%;
  --mv-size-preview-width: 800px;
  --mv-size-preview-height: 600px;
}

/* ========================================
   パルスアニメーション（実行中ノード）
   控えめなグローが拡大するスタイル
   ======================================== */
@keyframes mv-pulse {
  0%,
  100% {
    box-shadow: 0 0 4px 0 var(--mv-color-status-running-glow);
  }
  50% {
    box-shadow: 0 0 12px 4px var(--mv-color-status-running-glow);
  }
}
